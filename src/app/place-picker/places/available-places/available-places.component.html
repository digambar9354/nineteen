<app-places-container title="Available Places">

    @defer (when !isLoading()) {
        @if (!error()) {
            @if (places()) {
            <app-places [places]="places()!" (selectPlace)="onSelectPlace($event)"/>
            } @else if (places()?.length === 0) {
            <p class="fallback-text">Unfortunately, no places could be found.</p>
            }
        } @else {
        <p class="fallback-text">{{error()}}</p>
        }
    } @placeholder {
        <p class="fallback-text">Loading places .....</p>
    } @loading {
        <p class="fallback-text">Loading .....</p>
    }
</app-places-container>